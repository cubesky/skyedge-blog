<!DOCTYPE html>
<html lang="zh">
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.4 -->

    <!-- Title -->
    
    <title>
        
            QubesOS | 
        
        天空之边
    </title>

    <!-- Meta & Info -->
    <meta charset="utf-8">

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="天空之间">
    <meta name="description" content="天空的边界到底在哪里？">
    <meta name="keywords" content="SkyEdge, CubeSky,Linux">

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/myfiles/images/favicon.png">
    <link rel="icon" sizes="192x192" href="/myfiles/images/favicon.png">
    <link rel="apple-touch-icon" href="/myfiles/images/favicon.png">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="天空之边">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://liyin.date">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="QubesOS | 天空之边">
    <meta property="og:description" content="天空的边界到底在哪里？">
    <meta property="og:article:tag" content="Linux"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS & jQuery -->
    
        <link rel="stylesheet" href="/css/material.min.css">
        <link rel="stylesheet" href="/css/style.min.css">
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


        <script src="/js/jquery.min.js"></script>
        <script src="/js/queue.js"></script>
    

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    


    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Qubes-OS-是什么"><span class="post-toc-number">1.</span> <span class="post-toc-text">Qubes OS 是什么</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#安装-Qubes"><span class="post-toc-number">2.</span> <span class="post-toc-text">安装 Qubes</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#准备分区"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">准备分区</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#准备安装程序"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">准备安装程序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#下载光盘镜像-与-Rufus"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">下载光盘镜像 与 Rufus</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#写入启动U盘"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">写入启动U盘</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BIOS安装设置"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">BIOS安装设置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#开始安装"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">开始安装</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#配置-Qubes"><span class="post-toc-number">3.</span> <span class="post-toc-text">配置 Qubes</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#启动-Qubes"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">启动 Qubes</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#进入-Qubes-桌面"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">进入 Qubes 桌面</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#连接网络"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">连接网络</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装应用程序"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">安装应用程序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#向-dom0-安装软件或更新-dom0"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">向 dom0 安装软件或更新 dom0</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Qubes-特性与功能"><span class="post-toc-number">4.</span> <span class="post-toc-text">Qubes 特性与功能</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安全剪贴板"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">安全剪贴板</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#文件传输"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">文件传输</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#中文输入"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">中文输入</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#所以呢"><span class="post-toc-number">5.</span> <span class="post-toc-text">所以呢</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                QubesOS
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/myfiles/images/avatar.min.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>天空之间</strong>
        <span>3月 22, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACaklEQVR42u3aQXLDIAwF0Nz/0u22M23jL8kQknledRrb8FggLOnx9dHXAw8PDw8PDw8P7zDeI77yp/4Y8sf/n9/z+87y3PDw8PC28C622uCe/yaUkKoLcfEGPDw8vI28ZHK9CT0PMPmbk4XDw8PDO5PXu2f1uHh4eHgn83rH6HnYwMPDwzuNl3zwJ9t9dZnypVyea8HDw8OLeXmRaf/fW+t7eHh4eAGv3NI0SNr23jZqusLDw8NbwMs34uoSVANMtekKDw8P71W85xt6r1H1YvhWgrgwQzw8PLzFvIsP+wEmKYBV2wuip/Dw8PA28qrphl5aoRoMbmgdwMPDw1vMqwaGQlF/0HBQGBcPDw9vIy85ts5L+6NEw7wzAg8PD2/M623c5SHjtEK1GFYugOHh4eGNeXlbQHXS+eZeDVTNzgg8PDy8W3m9ZMS9rQY92MI0Lh4eHl4cGPL0QV7Uz9MTS5qu8PDw8Jbxqs1PyRG8B85DReGLAQ8PD28Br5pynbQFJIfyZmkNDw8PbzFvXnaalP+Tp/LEBx4eHt4eXr71TzbuakvB6Ck8PDy87bwkgds7BPcKb3nIwcPDw3stLy/V54fvvKg2Cl14eHh4L+LNU729FHCvtQsPDw9vJ6965YWrZKNP2gjyRcTDw8Pbw6uW9nvFs3kAGDVd4eHh4S3gJcEgv78aYKqJXTw8PLxzeL0NutoKUD1el1PDeHh4eEfyVjcH9Jpc8fDw8N6Flx/QJ8fowgcAHh4e3kZer2SVtx0UEgqtIhkeHh7eTl6eAsh/zUl5sGmmcfHw8PBu5X3ehYeHh4eHh4eHd8D1DRsuhpJ70whBAAAAAElFTkSuQmCC">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Linux/">Linux</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=QubesOS&url=https://liyin.date//2017/03/22/QubesOS/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=QubesOS&url=https://liyin.date//2017/03/22/QubesOS/index.html&via=天空之间" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://liyin.date//2017/03/22/QubesOS/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://liyin.date//2017/03/22/QubesOS/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=天空之边&title=QubesOS&summary=天空的边界到底在哪里？&pics=https://liyin.date/myfiles/images/favicon.png&url=https://liyin.date/2017/03/22/QubesOS/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=https://liyin.date//2017/03/22/QubesOS/index.html&text=QubesOS" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <script src="/assets/js/APlayer.min.js"> </script><p>最近折腾完 Alpine Linux 之后，我开始正式在电脑上安装双系统，我不太喜欢 Ubuntu 操作系统，所以先尝试了 Debian ，不过 Debian 在我的电脑上安装 Nvidia 驱动程序时发生了严重错误，造成 X 桌面崩溃无法启动。我本着试试小众系统的想法，从 “粉碎棱镜” 网站得知了一个叫做 <code>Qubes OS</code> 的安全操作系统，介绍上写着这个系统使用 XEN 隔离每个程序。Qubes OS 认为，没有任何一个软件是安全的，所以 Qubes 使用虚拟机和安全复制模式隔离所有应用程序和用户数据。</p>
<h1 id="Qubes-OS-是什么"><a href="#Qubes-OS-是什么" class="headerlink" title="Qubes OS 是什么"></a>Qubes OS 是什么</h1><blockquote>
<p>Qubes OS是一个面向安全的桌面操作系统，旨在通过隔离提供安全保障。<br>Qubes 通过隔离来保障安全性，并假设不可能有完美的，无漏洞的桌面环境。因为桌面环境有数百万行的代码并与数十亿的软件/硬件密切相关。这些关联中的任何一个关键错误都可能足以让恶意软件控制计算机。<br>为了保护桌面计算机的安全，Qubes 隔离了各种操作环境，因此，如果其中一个操作环境被黑，恶意软件只能得到该环境内的数据。<br>在 Qubes 中，有两个层面的隔离：硬件控制器被隔离到功能域（图形界面，网络，存储），而用户的数字生活由不同的信任级别隔离。例如：工作域（信任度最高），购物域，随机域（信任度最低）。每个域都在独立的虚拟机中运行。<br>———— 维基百科</p>
</blockquote>
<p>具体请参看 <a href="https://en.wikipedia.org/wiki/Qubes_OS" target="_blank" rel="external">这里</a></p>
<h1 id="安装-Qubes"><a href="#安装-Qubes" class="headerlink" title="安装 Qubes"></a>安装 Qubes</h1><h2 id="准备分区"><a href="#准备分区" class="headerlink" title="准备分区"></a>准备分区</h2><p>首先准备出一个足够大的分区，我把电脑的最后一个分区清空，分配了大概 120G 的存储空间用来安装 Qubes</p>
<h2 id="准备安装程序"><a href="#准备安装程序" class="headerlink" title="准备安装程序"></a>准备安装程序</h2><p>因为这次是直接安装到电脑的硬盘而不是虚拟机，所以需要将 iso 文件写入到 U盘 中并引导，U盘写入使用 <code>Rufus</code> 工具来完成  </p>
<h2 id="下载光盘镜像-与-Rufus"><a href="#下载光盘镜像-与-Rufus" class="headerlink" title="下载光盘镜像 与 Rufus"></a>下载光盘镜像 与 Rufus</h2><p>Qubes OS 的官方网站在 <a href="https://www.qubes-os.org/" target="_blank" rel="external">Qubes OS Offical</a> ，截止当前 2017年3月20日，最新版本为 <strong>Qubes Release 3.2</strong> ，你看到这篇文章的时候很可能已经有比这个版本更新的版本了。选择 iso 进行下载即可。<br>Rufus 在 <a href="https://rufus.akeo.ie/?locale=zh_CN" target="_blank" rel="external">这里</a> 下载，这个软件有中文语言，非常好用。  </p>
<h2 id="写入启动U盘"><a href="#写入启动U盘" class="headerlink" title="写入启动U盘"></a>写入启动U盘</h2><p>打开 Rufus ，插入U盘，Rufus 会自动识别你的U盘，写入过程会格式化你的U盘，所以确保你的U盘中已经没有你需要的文件。<br>在 Rufus 窗口下方选择 iso 文件并点击开始，这时候 Rufus 会提示你这个镜像是一个混合模式的镜像，询问你是使用 ISO 模式还是 DD模式，这里需要注意的是 Qubes 系统引导必须使用 <code>DD模式</code> 才能成功引导。选择 <code>DD模式</code> 并开始写入。<br><img src="/2017/03/22/QubesOS/Qubes-1.png" alt="Qubes-1.png" title=""></p>
<blockquote>
<p>注意： DD模式写入后会导致你的U盘不可被修改，Windows下也无法正常格式化恢复你的U盘，只能在 Linux 下通过 <code>mkfs.vfat</code> 命令格式化U盘。  </p>
</blockquote>
<h2 id="BIOS安装设置"><a href="#BIOS安装设置" class="headerlink" title="BIOS安装设置"></a>BIOS安装设置</h2><p>根据你的电脑说明书的方式进入 BIOS ，选择启动选项，关闭 <code>Secure Boot（安全引导）</code>，这里你可以保持 UEFI 引导模式，不需要旧式引导模式。<br>同时开启CPU的虚拟化技术 VT-x 或其他类似的选项。</p>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><p>插入你的 Qubes 安装U盘并重启，你会进入 Qubes 安装界面，Qubes 系统基于 <code>Fedora 23</code> ，使用 RedHat 系的图形化安装界面，如果你曾经安装过 CentOS 或者 RHEL 你就会发现这个界面非常的熟悉。需要注意的是，由于我是安装双系统，所以在硬盘分区选择手动模式，选择未分配的区域分别创建下列分区</p>
<ul>
<li>/boot/efi 500M</li>
<li>swap 10G</li>
<li>/ 剩余的都分配给它</li>
</ul>
<p>设置完成后点击 Done 开始安装 Qubes。<br>这个步骤大概需要1-2个小时。  </p>
<h1 id="配置-Qubes"><a href="#配置-Qubes" class="headerlink" title="配置 Qubes"></a>配置 Qubes</h1><h2 id="启动-Qubes"><a href="#启动-Qubes" class="headerlink" title="启动 Qubes"></a>启动 Qubes</h2><p>安装结束后，默认你的电脑应该会重启到原来的 Windows 系统上，开机时按 Esc 暂停启动，并选择从 EFI 文件启动，选择新的 EFI 分区并选择 <code>xen.efi</code> 启动 Qubes</p>
<blockquote>
<p>如果你不进行其他配置，以后想进入 Qubes OS 都是这样操作。</p>
</blockquote>
<p>首次进入系统的时候，Qubes 会询问你进行默认的系统配置，我的设置是配置 <code>网络虚拟机</code> 与 <code>防火墙虚拟机</code> ，取消了 <code>Whonix 虚拟机</code> 的配置，有关 Whonix 虚拟机的相关信息请看 <a href="https://en.wikipedia.org/wiki/Whonix" target="_blank" rel="external">这里</a><br>首次配置结束后就成功进入了 Qubes 系统。</p>
<h2 id="进入-Qubes-桌面"><a href="#进入-Qubes-桌面" class="headerlink" title="进入 Qubes 桌面"></a>进入 Qubes 桌面</h2><p>进入 Qubes 桌面之后，你会看到 <code>Qubes VM Manager</code> 自动弹出，并显示启动了 <code>dom0</code> <code>sys-net</code> <code>sys-firewall</code> 三个虚拟机，在左上角菜单中可以启动不同的虚拟区域以运行软件。<br><img src="/2017/03/22/QubesOS/Qubes-2.png" alt="Qubes-2.png" title=""></p>
<h2 id="连接网络"><a href="#连接网络" class="headerlink" title="连接网络"></a>连接网络</h2><p>这一步困扰了我比较长的时间，后来我发现这需要在左上的菜单中选择 <code>sys-net</code> 虚拟机 <code>Add-Shortcut</code> 并添加 <code>Network Manager</code> ，这样你就能配置你的网络连接了。<br><img src="/2017/03/22/QubesOS/Qubes-3.png" alt="Qubes-3.png" title=""></p>
<h2 id="安装应用程序"><a href="#安装应用程序" class="headerlink" title="安装应用程序"></a>安装应用程序</h2><p>因为 Qubes 是基于 Fedora 23 操作系统，所以包管理器命令是 <code>dnf</code> 。在 Qubes 中，所有工作虚拟机都是基于 <code>TemplateVM</code> 即<code>模板虚拟机</code>启动的，工作虚拟机只会保存用户文件而不会保存你安装的程序，如果你需要安装到模板虚拟机。然后关闭你的工作虚拟机并重启打开，即可同步你的软件。</p>
<h2 id="向-dom0-安装软件或更新-dom0"><a href="#向-dom0-安装软件或更新-dom0" class="headerlink" title="向 dom0 安装软件或更新 dom0"></a>向 dom0 安装软件或更新 dom0</h2><p>因为安全性保护，<code>dom0</code> 系统并不连接网络，更新系统可以在 <code>Qubes VM Manager</code> 中右键 <code>dom0</code> 并选择 <code>Update VM</code>。稍后，Qubes 会自动在 <code>sys-firewall</code> 虚拟机中启动下载程序并将文件传输到 <code>dom0</code> 再安装系统更新，当然如果你想要使用命令行，则可以使用 <code>sudo qubes-dom0-update</code> 命令，这个命令也可以用来安装程序到 <code>dom0</code>，执行 <code>sudo qubes-dom0-update 软件包</code> 即可。</p>
<h1 id="Qubes-特性与功能"><a href="#Qubes-特性与功能" class="headerlink" title="Qubes 特性与功能"></a>Qubes 特性与功能</h1><h2 id="安全剪贴板"><a href="#安全剪贴板" class="headerlink" title="安全剪贴板"></a>安全剪贴板</h2><p>当然，Qubes 中每一个虚拟机的剪贴板是独立的，如果你想跨虚拟机复制文字怎么办呢，答案就是使用全局复制，先将你想复制的文字复制到当前虚拟机的剪贴板中，然后按下 <code>Ctrl + Shift + C</code> ，右上角会提示已复制到全局剪贴板，然后转到目标虚拟机窗口，按下全局粘贴快捷键 <code>Ctrl + Shift + V</code> 然后就可以用粘贴功能粘贴文字了。注意，<code>dom0</code> 的复制只能在右上 Q 标志上右键 <code>copy dom0 clipboard</code> 来进行复制。</p>
<h2 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h2><p>安全剪贴板功能并不能复制文件，你需要打开文件管理器右键发送到 VM，或者使用 <code>qvm-copy-file 虚拟机名 文件名</code> 。文件会被保存在目标虚拟机的 <code>~/home/用户名/QubesIncoming</code> 文件夹下。</p>
<h2 id="中文输入"><a href="#中文输入" class="headerlink" title="中文输入"></a>中文输入</h2><p>作为非英语母语的人来说，输入法必不可少，那么如何安装中文语言输入呢？<br>启动你的模板虚拟机，然后输入 <code>dnf install ibus-pinyin ibus-qt4</code> ，安装结束后关闭你的模板虚拟机并重启你的工作虚拟机。<br>打开工作虚拟机的命令行，输入 <code>ibus-setup</code> 在弹出的窗口中选择 <code>Yes</code> 然后在配置界面 <code>Input Method</code> 添加一个 <code>Chinese - Pinyin</code> 即可使用中文输入。<br><img src="/2017/03/22/QubesOS/Qubes-4.png" alt="Qubes-4.png" title=""> </p>
<h1 id="所以呢"><a href="#所以呢" class="headerlink" title="所以呢"></a>所以呢</h1><img src="/2017/03/22/QubesOS/Qubes-5.png" alt="Qubes-5.png" title="">  
<p>我试用了大概1个星期，感觉上 Qubes 的使用并不是很方便，而且内存占用巨大，启动后基本上要占用超过 5G 的内存，运行 Firefox 或者其他软件之后这种现象更加严重。 VM 之间的传输非常不方便，作为日常试用会大幅度的降低效率，不适合作为平时日常使用的操作系统使用。<br>不过作为安全性来说我认为还是非常不错的，这应该又是一个安全到几乎偏执的一个操作系统。<br>再见 Qubes OS ，你好 OpenSUSE。</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    






    <!-- 使用 DISQUS_CLICK -->
    <div id="disqus-comment">
        <div id="disqus_thread"></div>

<!-- add animation -->
<style>
        .ripple-container {
        }
        .ripple-container .ripple{
            background-color: rgba(255,255,255,0.4);
            animation: ripple 2s forwards cubic-bezier(0, 0, 0.2, 1);
        }
        @keyframes ripple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            80% {
                transform: scale(1);
            }
            100% {
                opacity: 0;
            }
        }
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0
        }
</style>
	
<!-- add data-ripple attribute -->
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论 「请确保 disq.us &amp; disquscdn.com &amp; disqus.com 可以正常加载」</button>
</div>
	
<script>
    // add effect to elements
    Array.prototype.forEach.call(document.querySelectorAll('[data-ripple]'), function(element){
        // find all elements and attach effect
        new RippleEffect(element); // element is instance of javascript element node
    });
</script>

<script>
    var disqus_config = function () {
        this.page.url = 'https://liyin.date/2017/03/22/QubesOS/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://liyin.date/2017/03/22/QubesOS/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//skyedge.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

    </div>
    <style>
        #disqus-comment{
            background-color: #eee;
            padding: 2pc;
        }
    </style>


                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/03/19/linkChecker/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/04/02/pgp/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/myfiles/images/avatar.min.png" alt="天空之间's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        skyedge@liyin.party
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:skyedge@liyin.party" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Javascipt-书签工具/">Javascipt 书签工具<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Linux/">Linux<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/云/">云<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/博客升级/">博客升级<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/安全/">安全<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/软件推荐/">软件推荐<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/闲聊/">闲聊<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="永远的好伙伴">
                
                永远的好伙伴
            </a>
        </li>
        
    
        <li>
            <a href="/2017/04/02/pgp/" title="PGP 密钥">
                
                PGP 密钥
            </a>
        </li>
        
    
        <li>
            <a href="/creativecommons" title="知识共享协议">
                
                知识共享协议
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于我">
                
                关于我
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    
    <span id="footer-image">
        <a href="#" target="_blank" title="upyun">
            <img src="/img/upyun_logo.svg" alt="upyun">
        </a>
    </span>

    <span id="footer-image">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="creativecommons">
            <img src="https://i.creativecommons.org/l/by-nc-sa/3.0/cn/80x15.png" alt="creativecommons">
        </a>
    </span>


</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/1343816555" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.svg);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/cubesky" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.svg);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    
        <a href="https://space.bilibili.com/1520967" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-bilibili.svg);">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;天空之边
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->

    <script src="/js/lazyload.min.js"></script>
    <script src="/js/js.min.js"></script>



    <script src="/js/nprogress.js"></script>


<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>
















<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script>
    <!-- Offer LazyLoad -->
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    <!-- Start Queue -->
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

                </main>
            </div>
        </body>
    
</html>
